<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cybersecurity Roadmap</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <link id="themeStylesheet" rel="stylesheet" href="/static/green.css">
</head>
<body>
  <h1>Cybersecurity Learning Roadmap</h1>
  <div id="background"></div>
  <svg></svg>
  <div id="sidebar" class="sidebar hidden">
    <h3>Main Progress</h3>
    <div id="mainProgress"></div>

    <div id="xpContainer">
      <h3 id="levelDisplay" style="margin-top: 10px; font-size: 20px; "></h3>
      <div id="xpBarWrapper">
        <div id="xpBar"></div>
      </div>
      <h3  style="margin-top: 30px; ">ðŸ”¥ Streak</h3>
      <div id="streakDisplay" style="font-size: 20px; "></div>

    </div>

    <h3>CTFs</h3>
    <div id="ctfList"></div>

    <h3>Theme</h3>
    <div class="custom-select" id="themeSelector">
      <div class="selected">Green</div>
      <div class="options">
        <div data-value="green.css" class="option selected">âœ” Green</div>
        <div data-value="magenta.css" class="option">Magenta</div>
        <div data-value="solarized.css" class="option">Solarized</div>
        <div data-value="monokai.css" class="option">Monokai</div>
        <div data-value="dracula.css" class="option">Dracula</div>
      </div>
    </div>
    
  </div>

  <button id="toggleSidebar">â˜°</button>

  <div id="modal">
    <div id="modalContent">
      <button id="closeModalBtn"   onclick="document.getElementById('modal').style.display='none'"  class="close-btn">âœ–</button>
      <h2 id="modalTitle"></h2>
      <div id="modalBody"></div>
    </div>
  </div>

  <img src="static/icon.png" id="openStats" style="position: fixed; top: 10px; left: 10px; width: 80px; cursor: pointer; z-index: 1000;" />
  <div id="statsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.95); color: #00ffff; z-index: 999; font-family: monospace; overflow-y: auto;">
    <div style="padding: 40px; display: flex; flex-direction: row; flex-wrap: wrap; gap: 40px; justify-content: left;">
      <div>
        <h2 style="text-align: center;">Abilities</h2>
        <canvas id="hexagonChart" width="800" height="800"></canvas>
      </div>
      <div>
        <h2 style="text-align: center;">Badges</h2>
        <div id="badgesDisplay" style="display: flex; flex-wrap: wrap; gap: 20px;"></div>
      </div>
    </div>
    <button onclick="document.getElementById('statsModal').style.display='none'" style="position: absolute; top: 20px; right: 20px; font-size: 24px;">âœ–</button>
  </div>

  <template id="badgeTemplate">
    <div id="badgePopup" class="badge-popup-centered">
      <button id="closeBadgePopup" class="close-btn">âœ–</button>
      <img class="badge-big" />
      <h3 class="badge-title"></h3>
      <p class="badge-desc"></p>
    </div>
  </template>

  <template id="ctfModalTemplate">
    <button id="closeCtfModal" class="close-btn">âœ–</button>
    <h1 id="ctfTitle" style="margin-top: 10px;"></h1>
    <p id="ctfDescription" style="margin-top: 10px;"></p>
    <div style="text-align: center; margin-top: 12px;">
      <a id="ctfLink" href="#" target="_blank">ðŸ”— Visit Challenge</a>
    </div>
    <div style="margin-top: 20px; display: flex; justify-content: center; align-items: center; gap: 10px;">
      <button id="decreaseCtf">âž–</button>
      <strong id="ctfCompleted"></strong>
      <button id="increaseCtf">âž•</button>
    </div>
  </template>

  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script type="module" src="/static/main.js"></script>
</body>
</html>